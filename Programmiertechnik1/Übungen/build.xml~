<?xml version="1.0"?> 
<!--
    build-cygwin.xml
    Autor: H.Drachenfels
    Erstellt am: 20.2.2014
 -->
<project default="compile">
    <property name="package" value="*"/>

    <!-- checkstyle settings -->
    <property name="checkstyle.dir" value="/opt/checkstyle-5.6/"/>
    <property name="checkstyle-5.6.jar"
              value="${checkstyle.dir}checkstyle-5.6-all.jar"/>
    <property name="checkstyle.xml"
              value="${user.home}/Desktop/Programmiertechnik1/Dateien/prog/prog_checks.xml"/>
    <taskdef resource="checkstyletask.properties"
             classpath="${checkstyle.jar}"/>

    <!-- findbugs settings -->
    <property name="findbugs.home" value="/opt/findbugs-2.0.1"/>
    <property name="findbugs.output" value="xml"/>
    <property name="findbugs.exclude"
              value="${user.home}/Desktop/Programmiertechnik1/Dateien/prog/exclude_filter.xml"/>
    <taskdef name="findbugs"
             classpath="${findbugs.home}/lib/findbugs-ant.jar"
             classname="edu.umd.cs.findbugs.anttask.FindBugsTask"/>

    <!-- target section -->
    <target name="compile">
        <javac debug="on" srcdir="." destdir="." sourcepath=""
               listfiles="true" includeantruntime="false">
            <include name="${package}/*.java"/>
        </javac>
    </target>
  
    <target name="clean">
        <delete>
            <fileset dir="." includes="${package}/*.class"/>
        </delete>
    </target>

    <target name="style">
        <checkstyle config="${checkstyle.xml}">
            <fileset dir="." includes="${package}/*.java"/>
        </checkstyle>
    </target>

    <target name="bugs" depends="compile">
        <findbugs home="${findbugs.home}"
                  output="${findbugs.output}"
                  outputFile="bugs.${findbugs.output}"
                  excludeFilter="${findbugs.exclude}">
            <sourcePath path="."/>
            <auxClassPath path="."/>
            <fileset dir="." includes="${package}/*.class"/>
        </findbugs>
    </target>

    <target name="cleanbugs">
        <delete file="bugs.${findbugs.output}"/>
    </target>

    <target name="doc">
        <javadoc destdir="doc" linksource="yes">
            <packageset dir="." includes="${package}" />
        </javadoc>
    </target>

    <target name="cleandoc">
        <delete dir="doc"/>
    </target>

</project>

